sudo apt-get install bison build-essential curl flex git gnupg gperf libesd0-dev liblz4-tool libncurses5-dev libsdl1.2-dev libwxgtk2.8-dev libxml2 libxml2-utils lzop openjdk-6-jdk openjdk-6-jre pngcrush schedtool squashfs-tools xsltproc zip zlib1g-dev
sudo apt-get install g++-multilib gcc-multilib lib32ncurses5-dev lib32readline-gplv2-dev lib32z1-dev

mkdir ~/omni-twrp-tree
cd ~/omni-twrp-tree
repo init -u https://github.com/sultanqasim/twrp_recovery_manifest.git -b android-5.1
mkdir -p .repo/local_manifests


Create file .repo/local_manifests/styx.xml
<?xml version="1.0" encoding="UTF-8"?>
<manifest>
    <project name="cybojenix/android_device_motorola_surnia" path="device/motorola/surnia" remote="github" revision="android-5.0" />
    <project name="sultanqasim/android_device_motorola_otus" path="device/motorola/otus" remote="github" revision="android-5.0" />
</manifest>

Now get the repo:
repo sync

To build:
source build/envsetup.sh
lunch omni_otus-userdebug
make installclean
make -j10 recoveryimage
